<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Mother's Day Kass</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #ffe6f2;
            position: relative;
            margin: 0;
            padding: 0;
        }
        h1 {
            font-family: 'Fredoka One', cursive;
            color: #ff69b4;
            font-size: 2.25rem; /* 36px */
            margin-top: 1.5rem; /* 24px */
        }
        h2 {
            font-family: 'Fredoka One', cursive;
            color: red;
            font-size: 1.5rem; /* 24px */
            margin-bottom: 2rem; /* 32px */
        }
        #photos-container {
            margin-top: 2rem; /* 32px */
            overflow: hidden;
            white-space: nowrap;
            position: relative;
            width: 100%;
        }
        #photos {
            display: inline-block;
            white-space: nowrap;
            animation: scroll 36s linear infinite;
        }
        .photo {
            display: inline-block;
            margin-right: 0.625rem; /* 10px */
            width: 100%;
            max-width: 18.75rem; /* 300px */
            height: auto;
        }
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        #game {
            margin-top: 2rem; /* 32px */
        }
        #game h3 {
            font-family: 'Fredoka One', cursive;
            color: #ff69b4;
            font-size: 1.5rem; /* 24px */
        }
        #names {
            list-style-type: none;
            padding: 0;
        }
        #names li {
            background-color: #fff;
            border-radius: 0.625rem; /* 10px */
            padding: 0.625rem; /* 10px */
            margin: 0.625rem 0; /* 10px */
            cursor: pointer;
        }
        #names li:hover {
            background-color: #f0f0f0;
        }
        #result {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        #result img {
            max-width: 80%;
            max-height: 80%;
        }
        #result button {
            margin-top: 1.25rem; /* 20px */
            padding: 0.625rem 1.25rem; /* 10px 20px */
            font-size: 1.125rem; /* 18px */
            background-color: #ff69b4;
            color: #fff;
            border: none;
            border-radius: 0.3125rem; /* 5px */
            cursor: pointer;
        }
        @media (max-width: 768px) {
            h1 {
                font-size: 1.875rem; /* 30px */
            }
            h2 {
                font-size: 1.25rem; /* 20px */
            }
            .photo {
                max-width: 12.5rem; /* 200px */
            }
        }
        @media (max-width: 480px) {
            h1 {
                font-size: 1.5rem; /* 24px */
            }
            h2 {
                font-size: 1rem; /* 16px */
            }
            .photo {
                max-width: 10rem; /* 160px */
            }
            #result button {
                padding: 0.625rem 1.25rem; /* 10px 20px */
                font-size: 1rem; /* 16px */
            }
        }
    </style>
</head>
<body>
    <h1>Happy Mother's Day Kass</h1>
    <h2>You Make Me Feel So High School</h2>
    <audio id="backgroundMusic" muted>
        <source src="music/22 So High School.m4a" type="audio/mp4">
        Your browser does not support the audio element.
    </audio>
    <button id="playButton" style="display: none;">Play Music</button>
    <div id="photos-container">
        <div id="photos">
            <!-- Images are duplicated for a seamless carousel effect -->
            <img class="photo" src="images/photo1.jpeg">
            <img class="photo" src="images/photo2.jpeg">
            <img class="photo" src="images/photo3.jpeg">
            <img class="photo" src="images/photo4.jpeg">
            <img class="photo" src="images/photo5.jpeg">
            <img class="photo" src="images/photo6.jpeg">
            <img class="photo" src="images/photo7.jpeg">
            <img class="photo" src="images/photo8.jpeg">
            <img class="photo" src="images/photo9.jpeg">
            <img class="photo" src="images/photo10.jpeg">
            <img class="photo" src="images/photo11.jpeg">
            <img class="photo" src="images/photo12.jpeg">
            <img class="photo" src="images/photo13.jpeg">
            <img class="photo" src="images/photo14.jpeg">
            <img class="photo" src="images/photo15.jpeg">
            <img class="photo" src="images/photo1.jpeg">
            <img class="photo" src="images/photo2.jpeg">
            <img class="photo" src="images/photo3.jpeg">
            <img class="photo" src="images/photo4.jpeg">
            <img class="photo" src="images/photo5.jpeg">
            <img class="photo" src="images/photo6.jpeg">
            <img class="photo" src="images/photo7.jpeg">
            <img class="photo" src="images/photo8.jpeg">
            <img class="photo" src="images/photo9.jpeg">
            <img class="photo" src="images/photo10.jpeg">
            <img class="photo" src="images/photo11.jpeg">
            <img class="photo" src="images/photo12.jpeg">
            <img class="photo" src="images/photo13.jpeg">
            <img class="photo" src="images/photo14.jpeg">
            <img class="photo" src="images/photo15.jpeg">
        </div>
    </div>

    <div id="game">
        <h3>Marry, Kiss, Kill</h3>
        <p id="dialogue">Pick who to kill:</p>
        <ul id="names">
            <!-- Names will be added here -->
        </ul>
    </div>

    <div id="result">
        <img src="" alt="Result">
        <button id="startOver">Start Over?</button>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            var names = ["Casey", "John Krasinski", "Ethan", "Morgan", "Sam", "Andrew", "Will", "Jordan", "Trump", "Wes", "Nate", "Usher (5' 8')", "Logan Roy", "Buzz Lightyear", "Joey Graziadei"];
            var selectedNames = [];
            var currentStep = 0;
            var randomNames = [];

            function getRandomNames() {
                randomNames = names.sort(() => Math.random() - 0.5).slice(0, 3);
                return randomNames;
            }

            function displayNames() {
                $("#names").empty();
                randomNames.forEach(function(name) {
                    $("#names").append("<li>" + name + "</li>");
                });
                $("#names li").click(handleNameClick);
            }

            function handleNameClick() {
                var selectedName = $(this).text();
                if (!$(this).has("span").length && !selectedNames.includes(selectedName)) {
                    selectedNames.push(selectedName);
                    $(this).append(getEmoji(currentStep));
                    $(this).off("click");

                    if (currentStep < 2) {
                        currentStep += 1;
                        $("#dialogue").text(getDialogue(currentStep));
                        $("#names li").off("click").filter(":not(:has('span'))").click(handleNameClick);
                    } else if (currentStep === 2) {
                        currentStep = 3;
                        $("#dialogue").text(getDialogue(currentStep));
                        $("#names li").off("click").filter(":not(:has('span'))").click(handleNameClick);
                        setTimeout(displayResult, 3000); // Automatically display result after 3 seconds
                    }
                }
            }

            function getEmoji(step) {
                switch (step) {
                    case 0:
                        return " 💀";
                    case 1:
                        return " 💋";
                    case 2:
                        return " 🤵‍♂️";
                    default:
                        return "";
                }
            }

            function getDialogue(step) {
                switch (step) {
                    case 0:
                        return "Pick who to kill:";
                    case 1:
                        return "Pick who to kiss:";
                    case 2:
                        return "Pick who to marry:";
                    default:
                        return "";
                }
            }

            function displayResult() {
                var result = selectedNames[2]; // The name from the marry step
                var resultImage = result.toLowerCase() === "casey" ? "images/yay.gif" : "images/boo.gif";
                $("#result img").attr("src", resultImage);
                $("#result").show();
            }

            function resetGame() {
                selectedNames = [];
                currentStep = 0;
                $("#result").hide();
                $("#dialogue").text(getDialogue(currentStep));
                getRandomNames();
                displayNames();
            }

            getRandomNames();
            displayNames();
            $("#result").hide();

            $("#startOver").click(function() {
                resetGame();
            });

            // Handle autoplay restrictions
            var audio = document.getElementById('backgroundMusic');
            var playButton = document.getElementById('playButton');
            playButton.addEventListener('click', function() {
                audio.muted = false;
                audio.play();
            });
            audio.addEventListener('play', function() {
                playButton.style.display = 'none';
            });

            // Check if autoplay is allowed
            var playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.then(function() {
                    // Automatic playback started!
                }).catch(function(error) {
                    // Show play button if autoplay is blocked
                    playButton.style.display = 'block';
                });
            }
        });
    </script>
</body>
</html>
